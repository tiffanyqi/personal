<html>
  <head>
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">

    // General idea:
    // 1. create a general function that loops through the File and retrieves data from a specific column, something like getData(File, Integer, Integer), returns a 2d array based on the column numbers
    // 2. create an array, set it equal to the function
    // 3. make the array equal to the variable used to visualize the chart
    // 4. create options and chart as well
    // 5. link the div (written in chart) in the body

      // loads the libraries
      google.load("visualization", "1", {packages:["corechart"]});

      // general function that retrieves data from a specific file and returns an array based on the specific titles provided for the chart
      function getData(csv, xTitle, yTitle) {
        var lines = csv.split("\n");
        var headers = lines[0].split("\t");
        var result = [];
        var xCol; var yCol;

        // loops to determine what the headers are
        for (var h = 0; h < headers.length; h++) {
          if (xTitle = headers[h]) {
            xCol = h;
          }
          if (yTitle = headers[h]) {
            yCol = h;
          }
        }

        // loops to add each line to the array
        // for (var i = 1; i < lines.length; i++) {
        //   result[0] = [xTitle, yTitle];

        // }

        return [[xTitle, yTitle], [5, 2]];
      }

      
      google.setOnLoadCallback(drawGradeVUnits('Grade', 'Units', 'gradeVunits'));
      function drawGradeVUnits(xTitle, yTitle, div) {
        var data = google.visualization.arrayToDataTable( getData('productivity.csv', xTitle, yTitle) );
        var options = {
          title: 'Grade Received vs. Units of the Class',
          hAxis: {title: xTitle, minValue: 0, maxValue: 5},
          vAxis: {title: yTitle, minValue: 0, maxValue: 5},
          legend: 'none'
        };
        var chart = new google.visualization.ScatterChart(document.getElementById(div));

        chart.draw(data, options);
      }

    </script>
  </head>

  <body>
    <div id="gradeVunits" style="width: 500px; height: 500px;"></div>
  </body>

</html>
